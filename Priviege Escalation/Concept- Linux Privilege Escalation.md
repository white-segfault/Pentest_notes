## Information Gathering

```
bc= Be on a Linux machine

## Gaining Situational Awareness
C= bc
P= To gather information about the current system and where we are at. 

## Questions
-> Illustrates how we can read file containing a specific word/string we want. 
```

#### Linux Services & Internals Enumeration
```shell-session
bc= have a target Linux machine

## Internals / ## Services
C= bc
P= To enumerate information about the machine in different aspect.


## Questions
-> Illustrate how we can enumerate the version of a service package (e.g. python). 
```

#### Credential Hunting
```
bc= have a target Linux machine

## Overview / ## SSH keys
C= bc
P= To obtain some level of credentials, furthering our access

## Questions
-> Illustrate how we can collect creentials (such as wordpress db password) through credential hunting.
```

# Environment-based Privilege Escalation
#### Path Abuse
```shell-session
bc= have a target Linux machine

## Overview
C= bc, can change path variable for user
P= Replace common binary to a malicious binary .

## Questions
-> Illustrate how we can query the path for the user.
```

#### Wildcard Abuse
```shell-session
bc= have a target Linux machine

## Overview
C= bc
P= To identify whether we have widlcase to abuse and illustrate how we can abuse it.
```

#### Escaping Restricted Shells
```shell-session
bc= In a Linux system

## Escaping 
C= bc, in a restricted  shell environment
P= Illustrate how we can escape restricted shell and further our access.

## Questions
-> Illustrates how we can bypass restricted shell (with different restriction given in the section) and execute commands.
```

####  Special Permissions
```shell-session
bc= In a Linux system

## Overview
C= bc
P= To enumerate for special permissions, sets up for attack later (GTFOBins).

## GTFOBins
C= bc, have a binary we want to test it on
P= To identfy escalate privileges, gain shell or some other restricted (e.g. file reading) functionality.

## Questions
-> Illustrates how you can find binaries with setuid and setgid bit that sets up for further attacks. (e.g. in this case, we have /bin/sed that is allowed to read files with root permission on GTFO bins)
```

#### Sudo Rights Abuse
```
bc= Have a Linux target machine. 

## Overview
C= bc
P= To identify whether we have sudo rights and abuse them accordingly

## Questions
-> Illustrates another program that we can run as root and escalate privileges on.
```

#### Privileged Groups
```shell-session
bc= Have a Linux target

## LXC / LXD
C= bc
P= Identify wheter we are a lxd/lxc group member and abuse it accoringly.

## ADM
C= bc
P= Identify whether we are an ADm group member and abuse it accordingly to read log files.

## Questions
-> Illustrates how we can obtain useful information from reading the log files.
```

#### Capabilities
```
bc= Have a Linux target

## Enumerating Capabilties
C= bc
P= Identify whether there is capaibilites and whether we can exploit it.

## Exploitation
C= bc and vulnerable capabilties identified
P= Privilege escalation

## Questions
	-> Illustrates how we can perform privilege escalation through enumeration and exploiting capabilities. 
```

## Service-based Privilege Escalation
#### Vulnerable Services
```shell-session
bc= Have a Linux target

## overview
C= bc
P= To identify whether there is vulnerable services and exploit it accoringly with epxloit script online.


## Questions
-> Illustrate how we can identiy and vulnerable service, screen with version version 4.05.00 and privilege escalate on it.
```

#### Cron Job Abuse
```
bc= Have a Linux target

## Overview
C= bc
P= Identify whether there is a vulnerable cronjob and exploit it accordingly.

## Questions
-> Illustrate how we can identify vunerable cronjob and exploit it for privilege escalation.
```

#### LXD
```shell-session
bc= have a Linux target

## Linux Containers
C= bc
P= To identify whether we are in the group that can manager Linux containers (LXD) and exploit it for priesc accordingly if we are.

## Questions
-> Illustrate how we can perform privilege escalation, given we are a Linux Container group member.
```

#### Docker
```shell-session
bc= Have a Linux target

## Docker Architecture / ## Docker Images and Containers
C= bc
P= Better understanding of Docker

## Docker Privilege Escalation
C= bc, in docker group
P= Privilege Escalation

## Questions
-> Illustrate how we can perform privilege escalation using Docker membership.
```

#### Kubernetes
```shell-session
bc= Have a Linux target

## K8s Concept
C= bc
P= Better understanding of K8s

## Privilege Escalation
C= bc
P= Identify whether we are in a Kubernetes pod and perform privilege escalation accordingly.
```

#### Logrotate
```shell-session
bc= Have a Linux target

## Overview
C= bc
P= Identify whether Logrotate is on the system, whether it is vulnerable and exploit it accoringly if it is.

## Questions
-> Illustrate how we can exploit logrotate, through adding a user into the /etc/passwd as a easier way than reverse shell (since the exploit is based on a race condition).
```

#### Miscellaneous Techniques
```
bc= Have a Linux tagret

## Passive Traffic Capture
C= bc
P= Identify whether passive traffic capture is possible and abuse it accoringly.

## Weak NFS Privileges
C= bc
P= Identify whether weak NFS privilege is possible and abuse it accoringly.

## Hijacking Tmux Sessions
C= bc
P= Identify whether Hijacking Tmux Session is possible and abuse it accoringly.

## Questions
-> Illustrate how we can identify and abuse weak NFS privileges accoringly for privilege escalation.
```

## Linux Internals-based Privilege Escalation
#### Kernel Exploits
```
bc= Have a Linux system to target 

## Kernel Exploit Example
C= bc
P= Identify whether the system is vulnerable to kernel exploit and exploit is accordingly if it is.

## Questions
-> Illustrate how we can enumerate the versions of the OS and run an kernel exploit. 
```

## Shared Libraries
```shell-session
bc= have a Linux system to target

## LD_PRELOAD Privilege Escalation
C= bc
P= Identify whether there is a LD_PRELOAD Privilege escalation and exploit it accordingly

## Quetions
-> Illustrates how we can perform privilege escalation, even if the binary is not on GTFO bins. 
```

#### Shared Object Hijacking
```shell-session
bc= Have a library to target on Liux

## Overview
C= bc
P= To identify whether there is a shred object hijacking vulerability and exploit it accordingly if there is one.

## Questions
-> Illustrate how we can perform shared object hijacking to execute scripts we want (including rce).
```

## Python Library Hijacking
```shell-session
bc= Have a Linux target

## Wrong Write permissions
C= bc
P= To identify whether there is an wrong write permission and abuse it accordingly.

## Library Path
C= bc
P= To identify whether there is an Library path vulnerability and abuse it accordingly.

## PYTHONPATH Environment Variable
C= bc
P= To identify whether there is an PYTHONPATH Environment Variable vulnerability and abuse it accordingly.

## Questions
-> Illustrate how we can get a reverse shell through this class vulnerability and perform privilege escalation.
```

## Recent 0 days
#### Sudo
```shell-session
bc= Have a Linux target

## Overview
C= bc
P= To identify whether the target is vulnerable to CVE-2021-3156 and exploit it accordingly.

## Sudo Policy Bypass
C= bc
P= To identify whether the target is vulnerable to Sudo Policy Bypass and
exploit is accordingly.

## Questions
-> Illustrates how if we can execute just one command with a vulnerable version of Sudo for Sudo Policy Bypass, we can exploit it for privesc accoringly.
```

#### Polkit
```shell-session
bc= Have a Linux target

## Overview
C= bc
P= Identify whether there is Polkit service running, whether it is vulnerable to Pwnkit (CVE-201-4034) and exploit is accordingly

## Questions
-> Illustrate how we can identify a vulnerable version of Polkit service running and exploit it accordingly.
```

#### Dirty Pipe
```shell-session
bc= Have a Linux target

## Overview
C= bc
P= Identify whether there is a Dirty Pipe vulnerability and exploit is accordingly

## Questions
-> Illustrate how we can identify and exploit dirty pipe vulnerability in two different ways.
```

#### Netfilter
```shell-session
bc= Have a Linuxx target

## Overview
C= bc
P= Identify wheteher the targegt has a netfilter vulnerability and identify it accordingly.
```

## Hardening Consideration
#### Linux Hardening
```
bc= Have a system to harden/providing remediation advice

## Updates and Patching
C= bc
P= To harden the system from quick wins for privesc

## Configuration Management
C= bc
P= To harden the system from misconfiguration.

## User Management
C= bc
P= To harden the system from improper user management.

## Audit
C= bc
P= To provide a baseline security for the company, supplements with pentesting done with the company.
```

## Skills assessment
```
-> Illustrates how the environment -> lots of honeypots (e.g. honey pots on kernel exploits, recent 0 days, vulnerable services..) that we have examine and all failed because they have been kept like this to test our knowledge.
	-> If an path failed, know why it fails and move on the next one, they are there to test you.

-> Illustrate laterall movement for PE (if one user doesn't have enough privilege, get some credentials of other users for increasing attack surface).

-> Illustrate how we can be more precise when scanning for credentials (e.g. starting the scan in /etc), as searching from root there are usually alot of noises (system level uninformative library).

-> Also illustrated credential reuse by the user with adm privilege. 
```


